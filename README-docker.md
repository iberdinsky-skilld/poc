# Django + Drupal Docker Setup

## ğŸš€ Getting Started

### 1. Build and run containers
```bash
cd /Users/ivan/Sites/poc
docker-compose up --build
```

### 2. Access services
- **Django (Apache + mod_wsgi)**: http://localhost:8080
- **Drupal**: http://localhost:8081

### 3. First-time Drupal setup
On first run, Drupal needs to be configured:
1. Open http://localhost:8081
2. Select installation language
3. Configure database:
   - Database type: MySQL
   - Database name: `drupal`
   - Database username: `drupal`
   - Database password: `drupal`
   - Host: `drupal_db`
   - Port: `3306`

## ğŸ“ Structure

```
poc/
â”œâ”€â”€ docker-compose.yml          # Container orchestration
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile.django-apache # Django + Apache + mod_wsgi
â”‚   â””â”€â”€ apache-django.conf      # Apache configuration
â”œâ”€â”€ django/                     # Django application
â”‚   â”œâ”€â”€ static/                 # Static files (CSS, JS, images)
â”‚   â””â”€â”€ myproject/wsgi.py       # WSGI entry point
â””â”€â”€ drupal/                     # Drupal CMS
```

## âš™ï¸ How it works

1. **Apache + mod_wsgi** serves Django on port 8080
2. **Static files** are served directly by Apache from `/static/`
3. **HTML pages** are generated by Django via WSGI
4. **Drupal** runs separately on port 8081
5. **Caching** is configured for static files

## ğŸ”§ Development

### Restart Django only
```bash
docker-compose restart apache-django
```

### View logs
```bash
# Django logs
docker-compose logs apache-django

# Drupal logs  
docker-compose logs drupal
```

### Stop services
```bash
docker-compose down
```

## ğŸ“ Next Steps

1. âœ… Set up routing system with `ready_pages.yml`
2. âœ… Implement Django â†’ Drupal delegation logic
3. âœ… Add CDN caching
4. âœ… Prepare for AWS deployment
