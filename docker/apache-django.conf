<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/django

    # Static files served directly by Apache
    Alias /static/ /var/www/django/static/
    <Directory /var/www/django/static>
        Require all granted
        # Static file caching
        ExpiresActive On
        ExpiresByType text/css "access plus 1 month"
        ExpiresByType application/javascript "access plus 1 month"
        ExpiresByType image/png "access plus 1 month"
        ExpiresByType image/jpg "access plus 1 month"
        ExpiresByType image/jpeg "access plus 1 month"
        ExpiresByType image/gif "access plus 1 month"
        ExpiresByType image/svg+xml "access plus 1 month"
    </Directory>

    # WSGI configuration for Django
    WSGIDaemonProcess django python-home=/usr/local python-path=/var/www/django
    WSGIProcessGroup django
    WSGIScriptAlias / /var/www/django/myproject/wsgi.py

    <Directory /var/www/django/myproject>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    # Logs
    ErrorLog /var/log/apache2/django_error.log
    CustomLog /var/log/apache2/django_access.log combined
    LogLevel info

    # Headers for caching
    <LocationMatch "^/(?!static/).*">
        Header set Cache-Control "public, max-age=300"
    </LocationMatch>

</VirtualHost>
